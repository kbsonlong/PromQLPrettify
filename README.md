# PromQL Prettify - Vue.jsç‰ˆæœ¬

ä¸€ä¸ªåŸºäºVue.jså¼€å‘çš„PromQLå’ŒMetricsQLåœ¨çº¿ç¾åŒ–å·¥å…·ï¼Œå¯ä»¥å°†å¤æ‚çš„æŸ¥è¯¢è¯­å¥æ ¼å¼åŒ–ä¸ºæ˜“è¯»çš„å½¢å¼ã€‚

## åŠŸèƒ½ç‰¹æ€§

- ğŸ¯ **PromQLç¾åŒ–**: æ”¯æŒPrometheusæŸ¥è¯¢è¯­è¨€çš„æ ¼å¼åŒ–
- ğŸ“Š **MetricsQLç¾åŒ–**: æ”¯æŒVictoriaMetricsæŸ¥è¯¢è¯­è¨€çš„æ ¼å¼åŒ–
- ğŸ¨ **å®æ—¶é¢„è§ˆ**: è¾“å…¥å³æ—¶æ˜¾ç¤ºæ ¼å¼åŒ–ç»“æœ
- ğŸ“‹ **ä¸€é”®å¤åˆ¶**: å¿«é€Ÿå¤åˆ¶æ ¼å¼åŒ–åçš„æŸ¥è¯¢è¯­å¥
- ğŸ“± **å“åº”å¼è®¾è®¡**: æ”¯æŒæ¡Œé¢å’Œç§»åŠ¨è®¾å¤‡
- ğŸŒ™ **æ·±è‰²ä¸»é¢˜**: æä¾›èˆ’é€‚çš„ä»£ç é˜…è¯»ä½“éªŒ
- âš¡ **é›¶ä¾èµ–**: çº¯å‰ç«¯å®ç°ï¼Œæ— éœ€åç«¯æœåŠ¡

## æŠ€æœ¯æ ˆ

- **å‰ç«¯æ¡†æ¶**: Vue 3 (Composition API)
- **æ„å»ºå·¥å…·**: Vite
- **è¯­è¨€**: TypeScript
- **æ ·å¼**: CSS3 + Flexbox
- **éƒ¨ç½²**: GitHub Pages

## é¡¹ç›®ç»“æ„

```
promql-prettify/
â”œâ”€â”€ public/
â”‚   â””â”€â”€ index.html
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”œâ”€â”€ PromqlEditor.vue      # PromQLè¾“å…¥ç¼–è¾‘å™¨
â”‚   â”‚   â”œâ”€â”€ PrettierOutput.vue    # æ ¼å¼åŒ–ç»“æœæ˜¾ç¤º
â”‚   â”‚   â””â”€â”€ CopyButton.vue        # å¤åˆ¶æŒ‰é’®ç»„ä»¶
â”‚   â”œâ”€â”€ utils/
â”‚   â”‚   â””â”€â”€ promql-prettier.ts    # PromQLæ ¼å¼åŒ–æ ¸å¿ƒé€»è¾‘
â”‚   â”œâ”€â”€ styles/
â”‚   â”‚   â””â”€â”€ main.css             # å…¨å±€æ ·å¼
â”‚   â”œâ”€â”€ App.vue                  # ä¸»åº”ç”¨ç»„ä»¶
â”‚   â””â”€â”€ main.ts                  # åº”ç”¨å…¥å£
â”œâ”€â”€ package.json
â”œâ”€â”€ vite.config.ts
â”œâ”€â”€ tsconfig.json
â””â”€â”€ README.md
```

## ä½¿ç”¨æ–¹æ³•

1. **è¾“å…¥æŸ¥è¯¢**: åœ¨å·¦ä¾§æ–‡æœ¬æ¡†ä¸­ç²˜è´´æ‚¨çš„PromQLæˆ–MetricsQLæŸ¥è¯¢è¯­å¥
2. **å®æ—¶æ ¼å¼åŒ–**: å³ä¾§ä¼šå®æ—¶æ˜¾ç¤ºæ ¼å¼åŒ–åçš„ç»“æœ
3. **å¤åˆ¶ç»“æœ**: ç‚¹å‡»"å¤åˆ¶"æŒ‰é’®å°†æ ¼å¼åŒ–åçš„æŸ¥è¯¢å¤åˆ¶åˆ°å‰ªè´´æ¿
4. **é”™è¯¯æç¤º**: å¦‚æœæŸ¥è¯¢è¯­æ³•æœ‰è¯¯ï¼Œä¼šæ˜¾ç¤ºç›¸åº”çš„é”™è¯¯ä¿¡æ¯

## ç¤ºä¾‹

**è¾“å…¥**:
```
count(sum(label_replace(node_uname_info, "kernel", "$1", "release", "([0-9]+.[0-9]+.[0-9]+).*")) by (kernel)) > 1
```

**è¾“å‡º**:
```
count(
  sum(
    label_replace(
      node_uname_info,
      "kernel",
      "$1",
      "release",
      "([0-9]+.[0-9]+.[0-9]+).*"
    )
  ) by(kernel)
)
  >
1
```

## æœ¬åœ°å¼€å‘

```bash
# å®‰è£…ä¾èµ–
npm install

# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm run dev

# æ„å»ºç”Ÿäº§ç‰ˆæœ¬
npm run build

# é¢„è§ˆæ„å»ºç»“æœ
npm run preview
```

### å¼€å‘æœåŠ¡å™¨åœ°å€
- å¼€å‘ç¯å¢ƒ: http://localhost:3000/promql-prettify/
- é¢„è§ˆç¯å¢ƒ: http://localhost:4173/promql-prettify/

### æ„å»ºè¯´æ˜
- é¡¹ç›®å·²é…ç½®å¥½TypeScriptå’ŒVue 3
- ä½¿ç”¨Viteä½œä¸ºæ„å»ºå·¥å…·ï¼Œæ”¯æŒçƒ­é‡è½½
- ç”Ÿäº§æ„å»ºä¼šè‡ªåŠ¨è¿›è¡Œä»£ç åˆ†å‰²å’Œå‹ç¼©
- æ„å»ºè¾“å‡ºåœ¨`dist`ç›®å½•ï¼Œå¯ç›´æ¥éƒ¨ç½²åˆ°é™æ€æœåŠ¡å™¨

## éƒ¨ç½²åˆ°GitHub Pages

### è‡ªåŠ¨éƒ¨ç½² (æ¨è)

æœ¬é¡¹ç›®å·²é…ç½®GitHub Actionsè‡ªåŠ¨éƒ¨ç½²:

1. **æ¨é€ä»£ç **: å°†ä»£ç æ¨é€åˆ°`main`åˆ†æ”¯
2. **è‡ªåŠ¨æ„å»º**: GitHub Actionsä¼šè‡ªåŠ¨æ„å»ºé¡¹ç›®
3. **éƒ¨ç½²åˆ°docsåˆ†æ”¯**: æ„å»ºç»“æœä¼šè‡ªåŠ¨æ¨é€åˆ°`docs`åˆ†æ”¯
4. **GitHub Pagesè®¾ç½®**: åœ¨ä»“åº“è®¾ç½®ä¸­å°†GitHub Pagesæºè®¾ç½®ä¸º`docs`åˆ†æ”¯

### æ‰‹åŠ¨éƒ¨ç½²

å¦‚æœéœ€è¦æ‰‹åŠ¨éƒ¨ç½²:

1. æ„å»ºé¡¹ç›®: `npm run build`
2. å°†`dist`ç›®å½•å†…å®¹æ¨é€åˆ°`docs`åˆ†æ”¯
3. åœ¨GitHubä»“åº“è®¾ç½®ä¸­å¯ç”¨GitHub Pagesï¼Œé€‰æ‹©`docs`åˆ†æ”¯ä½œä¸ºæº

### éƒ¨ç½²é…ç½®è¯´æ˜

- **GitHub Actionså·¥ä½œæµ**: `.github/workflows/deploy.yml`
- **è§¦å‘æ¡ä»¶**: æ¨é€åˆ°`main`åˆ†æ”¯æˆ–æ‰‹åŠ¨è§¦å‘
- **éƒ¨ç½²åˆ†æ”¯**: `docs`åˆ†æ”¯
- **æ„å»ºè¾“å‡º**: æ‰€æœ‰é™æ€æ–‡ä»¶ç›´æ¥æ”¾åœ¨`docs`åˆ†æ”¯æ ¹ç›®å½•

## è‡´è°¢

æœ¬é¡¹ç›®çµæ„Ÿæ¥æºäº:
- [promql-metricsql-prettify](https://github.com/laixintao/promql-metricsql-prettify)
- [promql-prettier](https://github.com/jiacai2050/promql-prettier)

## è®¸å¯è¯

MIT License