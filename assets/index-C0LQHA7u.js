var e=Object.defineProperty,t=(t,n,a)=>((t,n,a)=>n in t?e(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a)(t,"symbol"!=typeof n?n+"":n,a);import{d as n,r as a,c as r,o as s,a as i,b as o,e as l,t as c,F as u,f as d,n as g,g as m,h as p,i as h,j as f,k as b,l as v,w as _,m as y,v as w,p as E,q as x,s as k,u as S}from"./vendor-R4kcWVFZ.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();class A{constructor(){t(this,"isReady",!1),t(this,"readyPromise"),t(this,"go"),this.readyPromise=this.initWasm()}async initWasm(){try{const e="/PromQLPrettify/";await this.loadScript(`${e}wasm_exec.js`),this.go=new window.Go,window.wasmReady=()=>{this.isReady=!0,console.log("🚀 WASM PromQL formatter is ready!")};const t=await WebAssembly.instantiateStreaming(fetch(`${e}promql-formatter.wasm`),this.go.importObject);this.go.run(t.instance),await this.waitForReady()}catch(e){throw console.error("Failed to initialize WASM formatter:",e),e}}loadScript(e){return new Promise((t,n)=>{const a=document.createElement("script");a.src=e,a.onload=()=>t(),a.onerror=()=>n(new Error(`Failed to load script: ${e}`)),document.head.appendChild(a)})}waitForReady(){return new Promise(e=>{const t=()=>{this.isReady?e():setTimeout(t,10)};t()})}async waitForInit(){await this.readyPromise}isAvailable(){return this.isReady&&"function"==typeof window.formatPromQLWasm&&"function"==typeof window.validatePromQLWasm&&"function"==typeof window.explainPromQLWasm}async formatPromQL(e){if(await this.waitForInit(),!this.isAvailable())throw new Error("WASM formatter is not available");try{return window.formatPromQLWasm(e)}catch(t){return console.error("WASM formatting error:",t),{success:!1,formatted:"",error:t instanceof Error?t.message:"Unknown error"}}}async validatePromQL(e){if(await this.waitForInit(),!this.isAvailable())throw new Error("WASM validator is not available");try{return window.validatePromQLWasm(e)}catch(t){return console.error("WASM validation error:",t),{valid:!1,error:t instanceof Error?t.message:"Unknown error"}}}async explainPromQL(e){if(await this.waitForInit(),!this.isAvailable())throw new Error("WASM formatter is not available");try{return window.explainPromQLWasm(e)}catch(t){return console.error("WASM explain error:",t),{success:!1,error:t instanceof Error?t.message:"Unknown error"}}}async getExampleQueries(){if(await this.waitForInit(),!this.isAvailable())throw new Error("WASM formatter is not available");try{return window.getExampleQueriesWasm()}catch(e){return console.error("WASM get examples error:",e),[]}}}let N=null;var M=(e=>(e.JAVASCRIPT="javascript",e.WASM="wasm",e))(M||{});async function O(e,t={mode:"wasm",fallbackToJS:!0}){try{if(!e||!e.trim())return{formatted:"",error:null};if("wasm"===t.mode||void 0===t.mode)try{N||(N=new A,await N.waitForInit());const n=await N.formatPromQL(e);if(n.success&&n.formatted)return{formatted:n.formatted,error:null};if(!t.fallbackToJS)return{formatted:"",error:n.error||"WASM格式化失败"}}catch(n){if(!t.fallbackToJS)return{formatted:"",error:n instanceof Error?n.message:"WASM格式化时发生错误"}}let a=function(e){let t="",n=0;const a=2;let r=0,s=!1,i="";for(;r<e.length;){const o=e[r];r+1<e.length&&e[r+1];const l=r>0?e[r-1]:"";if('"'!==o&&"'"!==o||"\\"===l)if(s)t+=o,r++;else{if("("===o){t+=o,n++;T(R(e,r+1))&&(t+="\n"+" ".repeat(n*a))}else if(")"===o){if(n--," "!==t[t.length-1]&&"\n"!==t[t.length-1]){const e=t.lastIndexOf("\n"),r=-1===e?t:t.substring(e+1);r.trim().length>0&&L(r)&&(t+="\n"+" ".repeat(n*a))}t+=o;const s=e.substring(r+1).match(/^\s*(by|without)\s*\(/);if(s){t+="\n) "+s[1]+"(",r+=s[0].length,n++;continue}}else if(","===o)t+=o,t+=n>0?"\n"+" ".repeat(n*a):" ";else if(j(e,r)){const s=I(e,r);" "!==t[t.length-1]&&"\n"!==t[t.length-1]&&(t+="\n"),t+=" ".repeat(n*a)+s,r+s.length<e.length&&(t+="\n"+" ".repeat(n*a)),r+=s.length-1}else t+=o;r++}else s?o===i&&(s=!1,i=""):(s=!0,i=o),t+=o,r++}return t}(e.trim().replace(/\s+/g," "));return a=function(e){return e.replace(/\n\s*\n\s*\n/g,"\n\n").replace(/\n\s*\n/g,"\n").replace(/\s+$/gm,"").replace(/^\s+/gm,e=>{const t=e.length;return" ".repeat(2*Math.floor(t/2))})}(a),{formatted:a.trim(),error:null}}catch(a){return{formatted:"",error:a instanceof Error?a.message:"格式化时发生未知错误"}}}function R(e,t){let n=1,a=t,r="";for(;a<e.length&&n>0;){const t=e[a];"("===t?n++:")"===t&&n--,n>0&&(r+=t),a++}return r}function T(e){return e.includes(",")||e.length>30||/\w+\s*\(/.test(e)||/[><=!]=?/.test(e)}function L(e){return e.trim().length>40||e.includes(",")}function j(e,t){return["==","!=",">=","<=",">","<"].some(n=>e.substring(t,t+n.length)===n)}function I(e,t){const n=["==","!=",">=","<=",">","<"];for(const a of n)if(e.substring(t,t+a.length)===a)return a;return""}const C={class:"promql-editor"},P={class:"editor-header"},B={class:"editor-actions"},$=["title"],D=["disabled"],q={key:0,class:"examples-container"},U={class:"examples-list"},W=["onClick","title"],F={class:"input-container"},H=["value"],z={class:"input-info"},Q={class:"char-count"},V={key:0,class:"line-count"},Z=(e,t)=>{const n=e.__vccOpts||e;for(const[a,r]of t)n[a]=r;return n},K=Z(n({__name:"PromqlEditor",props:{modelValue:{}},emits:["update:modelValue"],setup(e,{expose:t,emit:n}){const p=e,h=n,f=a(null),b=a(!1),v=a([]),_=r(()=>p.modelValue?p.modelValue.length:0),y=r(()=>p.modelValue?p.modelValue.split("\n").length:1),w=e=>{const t=e.target;h("update:modelValue",t.value)},E=e=>{if((e.ctrlKey||e.metaKey)&&"a"===e.key){e.preventDefault();return void e.target.select()}if(!e.ctrlKey&&!e.metaKey||"Enter"!==e.key){if("Tab"===e.key){e.preventDefault();const t=e.target,n=t.selectionStart,a=t.selectionEnd,r=t.value,s=r.substring(0,n)+"  "+r.substring(a);h("update:modelValue",s),g(()=>{t.selectionStart=t.selectionEnd=n+2})}}else e.preventDefault()},x=()=>{h("update:modelValue",""),g(()=>{var e;null==(e=f.value)||e.focus()})};return s(async()=>{try{v.value=await async function(e={mode:"wasm",fallbackToJS:!0}){if("wasm"===e.mode||void 0===e.mode)try{N||(N=new A,await N.waitForInit());const e=await N.getExampleQueries();if(e.length>0)return e}catch(t){if(!e.fallbackToJS)return console.error("WASM获取示例失败:",t),[]}return["up","rate(http_requests_total[5m])","sum(rate(http_requests_total[5m])) by (job)","histogram_quantile(0.95, sum(rate(http_request_duration_seconds_bucket[5m])) by (le))",'count(sum(label_replace(node_uname_info, "kernel", "$1", "release", "([0-9]+.[0-9]+.[0-9]+).*")) by (kernel)) > 1',"avg_over_time(cpu_usage_percent[1h]) > 80",'sum by (instance) (rate(node_cpu_seconds_total{mode!="idle"}[5m])) * 100']}({mode:M.WASM,fallbackToJS:!0})}catch(e){console.error("获取示例查询失败:",e),v.value=["up","rate(http_requests_total[5m])","sum(rate(http_requests_total[5m])) by (job)"]}}),t({focus:()=>{g(()=>{var e;null==(e=f.value)||e.focus()})}}),(e,t)=>(m(),i("div",C,[o("div",P,[t[1]||(t[1]=o("h3",{class:"editor-title"},"输入PromQL/MetricsQL",-1)),o("div",B,[o("button",{class:"example-button",onClick:t[0]||(t[0]=e=>b.value=!b.value),title:b.value?"隐藏示例":"显示示例"},c(b.value?"隐藏示例":"📝 示例"),9,$),o("button",{class:"clear-button",onClick:x,disabled:!e.modelValue,title:"清空输入"}," 🗑️ 清空 ",8,D)])]),b.value?(m(),i("div",q,[t[2]||(t[2]=o("h4",{class:"examples-title"},"示例查询：",-1)),o("div",U,[(m(!0),i(u,null,d(v.value,(e,t)=>(m(),i("button",{key:t,class:"example-item",onClick:t=>(e=>{h("update:modelValue",e),b.value=!1,g(()=>{var e;null==(e=f.value)||e.focus()})})(e),title:`点击加载: ${e}`},c(e),9,W))),128))])])):l("",!0),o("div",F,[o("textarea",{ref_key:"textareaRef",ref:f,class:"input-textarea",value:e.modelValue,onInput:w,onKeydown:E,placeholder:"在此粘贴您的PromQL或MetricsQL查询语句...\\n\\n示例：\\nrate(http_requests_total[5m])\\nsum(rate(cpu_usage[1m])) by (instance)",spellcheck:"false",autocomplete:"off",autocorrect:"off",autocapitalize:"off"},null,40,H),o("div",z,[o("span",Q,c(_.value)+" 字符",1),y.value>1?(m(),i("span",V,c(y.value)+" 行",1)):l("",!0)])])]))}}),[["__scopeId","data-v-ae1cc81c"]]),J=["disabled","title"],G={key:0},X={key:1},Y=Z(n({__name:"CopyButton",props:{content:{},disabled:{type:Boolean,default:!1}},setup(e){const t=e,n=a(!1),s=a(null),o=r(()=>t.disabled||!t.content||!t.content.trim()),l=async()=>{if(!o.value)try{navigator.clipboard&&window.isSecureContext?await navigator.clipboard.writeText(t.content):c(t.content),n.value=!0,s.value&&clearTimeout(s.value),s.value=window.setTimeout(()=>{n.value=!1,s.value=null},2e3)}catch(e){console.error("复制失败:",e)}},c=e=>{const t=document.createElement("textarea");t.value=e,t.style.top="0",t.style.left="0",t.style.position="fixed",t.style.opacity="0",document.body.appendChild(t),t.focus(),t.select();try{if(!document.execCommand("copy"))throw new Error("execCommand 复制失败")}catch(n){throw console.error("降级复制方案失败:",n),n}finally{document.body.removeChild(t)}};return p(()=>{s.value&&clearTimeout(s.value)}),(e,t)=>(m(),i("button",{class:h(["copy-button",{copied:n.value}]),onClick:l,disabled:!e.content||o.value,title:n.value?"已复制!":"复制到剪贴板"},[n.value?(m(),i("span",X,"✅ 已复制!")):(m(),i("span",G,"📋 复制"))],10,J))}}),[["__scopeId","data-v-f0003e1c"]]),ee={class:"prettier-output"},te={class:"output-header"},ne={class:"output-actions"},ae={class:"output-container"},re={key:0,class:"success-output"},se={key:1,class:"error-container"},ie={class:"error-message"},oe={key:2,class:"empty-state"},le={key:0,class:"output-info"},ce={class:"output-stats"},ue={key:0,class:"format-time"},de=Z(n({__name:"PrettierOutput",props:{content:{},error:{},formatTime:{default:void 0}},setup(e){const t=e,n=r(()=>!!t.error),a=r(()=>n.value?"":t.content),s=r(()=>t.error||""),u=r(()=>a.value?a.value.split("\n").length:0),d=r(()=>a.value?a.value.length:0);return(e,t)=>{const r=b("highlightjs");return m(),i("div",ee,[o("div",te,[t[0]||(t[0]=o("h3",{class:"output-title"},"格式化结果",-1)),o("div",ne,[f(Y,{content:a.value,disabled:!a.value||n.value},null,8,["content","disabled"])])]),o("div",ae,[!n.value&&a.value?(m(),i("div",re,[f(r,{language:"promql",code:a.value,class:"code-highlight"},null,8,["code"])])):n.value?(m(),i("div",se,[t[1]||(t[1]=o("div",{class:"error-header"},[o("span",{class:"error-icon"},"⚠️"),o("span",{class:"error-title"},"格式化错误")],-1)),o("pre",ie,c(s.value),1),t[2]||(t[2]=o("div",{class:"error-help"},[o("p",null,"常见问题："),o("ul",null,[o("li",null,"检查括号是否匹配"),o("li",null,"检查引号是否正确闭合"),o("li",null,"确认函数名称拼写正确"),o("li",null,"验证操作符使用是否正确")])],-1))])):(m(),i("div",oe,t[3]||(t[3]=[v('<div class="empty-icon" data-v-c93000ab>📝</div><p class="empty-title" data-v-c93000ab>等待输入</p><p class="empty-description" data-v-c93000ab> 在左侧输入框中粘贴您的PromQL或MetricsQL查询语句，<br data-v-c93000ab> 格式化结果将在这里实时显示。 </p><div class="empty-tips" data-v-c93000ab><h4 data-v-c93000ab>支持的查询类型：</h4><ul data-v-c93000ab><li data-v-c93000ab><strong data-v-c93000ab>PromQL</strong> - Prometheus查询语言</li><li data-v-c93000ab><strong data-v-c93000ab>MetricsQL</strong> - VictoriaMetrics查询语言</li></ul></div>',4)])))]),a.value&&!n.value?(m(),i("div",le,[o("span",ce,c(u.value)+" 行，"+c(d.value)+" 字符 ",1),e.formatTime?(m(),i("span",ue," 格式化耗时: "+c(e.formatTime)+"ms ",1)):l("",!0)])):l("",!0)])}}}),[["__scopeId","data-v-c93000ab"]]),ge={class:"theme-selector"},me=["value"],pe=Z(n({__name:"ThemeSelector",setup(e){const t=[{value:"atom-one-dark",label:"Atom One Dark (深色)",cssFile:"atom-one-dark.css"},{value:"vs2015",label:"VS2015 (深色)",cssFile:"vs2015.css"},{value:"github-dark",label:"GitHub Dark (深色)",cssFile:"github-dark.css"},{value:"monokai",label:"Monokai (深色)",cssFile:"monokai.css"},{value:"dracula",label:"Dracula (深色)",cssFile:"dracula.css"},{value:"github",label:"GitHub (浅色)",cssFile:"github.css"},{value:"default",label:"Default (浅色)",cssFile:"default.css"},{value:"stackoverflow-light",label:"Stack Overflow (浅色)",cssFile:"stackoverflow-light.css"},{value:"xcode",label:"Xcode (浅色)",cssFile:"xcode.css"},{value:"intellij-light",label:"IntelliJ (浅色)",cssFile:"intellij-light.css"}],n=a("atom-one-dark");let r=null;const l=e=>{const n=t.find(t=>t.value===e);if(!n)return;r&&r.remove();const a=document.createElement("link");a.rel="stylesheet",a.href=`https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/${n.cssFile}`,a.id="highlight-theme",document.head.appendChild(a),r=a,localStorage.setItem("promql-prettifier-theme",e)},g=()=>{l(n.value)};return s(()=>{const e=localStorage.getItem("promql-prettifier-theme");e&&t.some(t=>t.value===e)&&(n.value=e),l(n.value)}),(e,a)=>(m(),i("div",ge,[a[1]||(a[1]=o("label",{for:"theme-select",class:"theme-label"},[o("span",{class:"theme-icon"},"🎨"),y(" 格式化结果高亮主题: ")],-1)),_(o("select",{id:"theme-select","onUpdate:modelValue":a[0]||(a[0]=e=>n.value=e),onChange:g,class:"theme-select"},[(m(),i(u,null,d(t,e=>o("option",{key:e.value,value:e.value},c(e.label),9,me)),64))],544),[[w,n.value]])]))}}),[["__scopeId","data-v-d3be26d7"]]),he={key:0,class:"node-toggle"},fe={key:1,class:"node-value"},be={key:2,class:"node-operator"},ve={key:0,class:"node-children"},_e=Z(n({__name:"ASTNode",props:{node:{},level:{}},setup(e){const t=e,n=a(!0),s=r(()=>t.node.children&&t.node.children.length>0),g=()=>{s.value&&(n.value=!n.value)};return(e,t)=>{const a=b("ASTNode",!0);return m(),i("div",{class:h(["ast-node",`level-${e.level}`])},[o("div",{class:"node-header",onClick:g},[s.value?(m(),i("span",he,c(n.value?"▼":"▶"),1)):l("",!0),o("span",{class:h(["node-type",`type-${e.node.type.toLowerCase()}`])},c(e.node.type),3),e.node.value?(m(),i("span",fe,c((r=e.node.value,r?r.length>50?r.substring(0,47)+"...":r:"")),1)):l("",!0),e.node.operator?(m(),i("span",be,c(e.node.operator),1)):l("",!0)]),s.value&&n.value?(m(),i("div",ve,[(m(!0),i(u,null,d(e.node.children,(t,n)=>(m(),E(a,{key:n,node:t,level:e.level+1},null,8,["node","level"]))),128))])):l("",!0)],2);var r}}}),[["__scopeId","data-v-cff0b4e5"]]),ye={class:"promql-explainer"},we={class:"explainer-header"},Ee={class:"explainer-actions"},xe=["disabled","title"],ke={key:0,class:"explain-content"},Se={key:0,class:"explain-error"},Ae={key:1,class:"explain-success"},Ne={class:"explain-section"},Me={class:"ast-container"},Oe={class:"explain-section"},Re={class:"execution-plan"},Te={class:"step-number"},Le={class:"step-content"},je={class:"step-operation"},Ie={class:"step-description"},Ce=["title"],Pe={class:"explain-section"},Be={class:"performance-analysis"},$e={class:"performance-metrics"},De={class:"metric"},qe={class:"metric"},Ue={class:"metric-value"},We={class:"metric"},Fe={class:"metric-value"},He={key:0,class:"bottlenecks"},ze={key:1,class:"suggestions"},Qe={key:1,class:"explain-empty"},Ve={key:2,class:"explain-loading"},Ze=Z(n({__name:"PromQLExplainer",props:{query:{}},setup(e){const t=e,n=a(!1),r=a(null),s=async()=>{if(t.query&&t.query.trim()){n.value=!0,r.value=null;try{const e=await async function(e,t={mode:"wasm",fallbackToJS:!0}){try{if(!e||!e.trim())return{success:!1,error:"查询不能为空"};if("wasm"===t.mode||void 0===t.mode)try{N||(N=new A,await N.waitForInit());const n=await N.explainPromQL(e);if(n.success)return n;if(!t.fallbackToJS)return n}catch(n){if(!t.fallbackToJS)return{success:!1,error:n instanceof Error?n.message:"WASM解释时发生错误"}}return{success:!0,ast:{type:"SimpleQuery",value:e,children:[]},execution:[{step:1,operation:"查询解析",description:"解析PromQL查询语法",cost:"低"}],performance:{complexity:"未知",timeRange:"未指定",cardinality:"未知",bottlenecks:[],suggestions:["建议使用WASM模式获得更详细的分析"]}}}catch(a){return{success:!1,error:a instanceof Error?a.message:"解释查询时发生未知错误"}}}(t.query,{mode:M.WASM,fallbackToJS:!0});r.value=e}catch(e){console.error("解释查询失败:",e),r.value={success:!1,error:e instanceof Error?e.message:"解释查询时发生未知错误"}}finally{n.value=!1}}},g=e=>{switch(e){case"低":return"🟢";case"中":return"🟡";case"高":return"🔴";default:return"⚪"}};return x(()=>t.query,()=>{r.value=null}),(e,t)=>{var a,p;return m(),i("div",ye,[o("div",we,[t[0]||(t[0]=o("h3",{class:"explainer-title"},"PromQL 查询解释",-1)),o("div",Ee,[o("button",{class:"explain-button",onClick:s,disabled:!e.query||n.value,title:e.query?"解释查询":"请先输入查询"},c(n.value?"🔄 解释中...":"🔍 解释查询"),9,xe)])]),r.value?(m(),i("div",ke,[r.value.success?(m(),i("div",Ae,[o("div",Ne,[t[2]||(t[2]=o("h4",{class:"section-title"},"🌳 查询结构 (AST)",-1)),o("div",Me,[f(_e,{node:r.value.ast,level:0},null,8,["node"])])]),o("div",Oe,[t[3]||(t[3]=o("h4",{class:"section-title"},"⚡ 执行计划",-1)),o("div",Re,[(m(!0),i(u,null,d(r.value.execution,e=>(m(),i("div",{key:e.step,class:h(["execution-step",`cost-${e.cost}`])},[o("div",Te,c(e.step),1),o("div",Le,[o("div",je,c(e.operation),1),o("div",Ie,c(e.description),1)]),o("div",{class:"step-cost",title:`执行成本: ${e.cost}`},c(g(e.cost)),9,Ce)],2))),128))])]),o("div",Pe,[t[9]||(t[9]=o("h4",{class:"section-title"},"📊 性能分析",-1)),o("div",Be,[o("div",$e,[o("div",De,[t[4]||(t[4]=o("span",{class:"metric-label"},"复杂度:",-1)),o("span",{class:h(["metric-value",`complexity-${r.value.performance.complexity}`])},c(r.value.performance.complexity),3)]),o("div",qe,[t[5]||(t[5]=o("span",{class:"metric-label"},"时间范围:",-1)),o("span",Ue,c(r.value.performance.timeRange),1)]),o("div",We,[t[6]||(t[6]=o("span",{class:"metric-label"},"基数:",-1)),o("span",Fe,c(r.value.performance.cardinality),1)])]),(null==(a=r.value.performance.bottlenecks)?void 0:a.length)?(m(),i("div",He,[t[7]||(t[7]=o("h5",null,"⚠️ 潜在瓶颈",-1)),o("ul",null,[(m(!0),i(u,null,d(r.value.performance.bottlenecks,e=>(m(),i("li",{key:e},c(e),1))),128))])])):l("",!0),(null==(p=r.value.performance.suggestions)?void 0:p.length)?(m(),i("div",ze,[t[8]||(t[8]=o("h5",null,"💡 优化建议",-1)),o("ul",null,[(m(!0),i(u,null,d(r.value.performance.suggestions,e=>(m(),i("li",{key:e},c(e),1))),128))])])):l("",!0)])])])):(m(),i("div",Se,[t[1]||(t[1]=o("h4",null,"❌ 解释失败",-1)),o("p",null,c(r.value.error),1)]))])):n.value?(m(),i("div",Ve,t[11]||(t[11]=[o("div",{class:"loading-spinner"},"🔄",-1),o("p",null,"正在分析查询...",-1)]))):(m(),i("div",Qe,t[10]||(t[10]=[o("div",{class:"empty-icon"},"🔍",-1),o("p",null,'输入PromQL查询并点击"解释查询"按钮来查看详细的执行分析',-1)])))])}}}),[["__scopeId","data-v-f6685a8c"]]),Ke={class:"main-container"},Je={class:"theme-selector-container"},Ge={class:"tabs-container"},Xe={class:"tabs"},Ye={class:"interactive-area"},et={class:"interactive-block"},tt={class:"interactive-block"},nt={class:"interactive-block input-block"},at={class:"interactive-block explain-block"},rt=n({__name:"App",setup(e){const t=a(""),n=a(""),r=a(null),c=a(void 0),d=a("format"),g=e=>{t.value=e},p=async e=>{const t=performance.now();try{if(!e||!e.trim())return n.value="",r.value=null,void(c.value=void 0);const a=await async function(e,t={mode:"wasm",fallbackToJS:!0}){try{if(!e||!e.trim())return{isValid:!0,error:null};if("wasm"===t.mode||void 0===t.mode)try{N||(N=new A,await N.waitForInit());const t=await N.validatePromQL(e);return{isValid:t.valid,error:t.error||null}}catch(n){if(!t.fallbackToJS)return{isValid:!1,error:n instanceof Error?n.message:"WASM验证时发生错误"}}const a=e.match(/[()]/g)||[];let r=0;for(const e of a)if("("===e)r++;else if(r--,r<0)return{isValid:!1,error:"括号不匹配：多余的右括号"};return r>0?{isValid:!1,error:"括号不匹配：缺少右括号"}:(e.match(/["\']/g)||[]).length%2!=0?{isValid:!1,error:"引号不匹配"}:{isValid:!0,error:null}}catch(a){return{isValid:!1,error:a instanceof Error?a.message:"语法验证时发生未知错误"}}}(e,{mode:M.WASM,fallbackToJS:!0});if(!a.isValid)return n.value="",r.value=a.error,void(c.value=void 0);const s=await O(e,{mode:M.WASM,fallbackToJS:!0});s.error?(n.value="",r.value=s.error,c.value=void 0):(n.value=s.formatted,r.value=null,c.value=Math.round(performance.now()-t))}catch(a){console.error("格式化过程中发生错误:",a),n.value="",r.value=a instanceof Error?a.message:"格式化时发生未知错误",c.value=void 0}};x(t,async e=>{await p(e)},{immediate:!0}),s(()=>{console.log("PromQL Prettifier 已加载");const e=new URLSearchParams(window.location.search).get("q");if(e)try{const n=decodeURIComponent(e);t.value=n}catch(n){console.warn("无法解析URL查询参数:",n)}});const b=e=>{console.error("应用错误:",e),r.value="应用发生错误，请刷新页面重试"};return window.addEventListener("error",e=>{b(new Error(e.message))}),window.addEventListener("unhandledrejection",e=>{b(new Error(e.reason))}),(e,a)=>(m(),i("div",Ke,[a[4]||(a[4]=o("header",{class:"main-header"},[o("h1",null,"PromQL Online Prettifier"),o("p",null,"让您的PromQL和MetricsQL查询更加美观易读")],-1)),o("div",Je,[f(pe)]),o("div",Ge,[o("div",Xe,[o("button",{class:h(["tab-button",{active:"format"===d.value}]),onClick:a[0]||(a[0]=e=>d.value="format")}," 🎨 格式化 ",2),o("button",{class:h(["tab-button",{active:"explain"===d.value}]),onClick:a[1]||(a[1]=e=>d.value="explain")}," 🔍 查询解释 ",2)])]),o("main",Ye,["format"===d.value?(m(),i(u,{key:0},[o("div",et,[f(K,{modelValue:t.value,"onUpdate:modelValue":[a[2]||(a[2]=e=>t.value=e),g]},null,8,["modelValue"])]),o("div",tt,[f(de,{content:n.value,error:r.value,"format-time":c.value},null,8,["content","error","format-time"])])],64)):"explain"===d.value?(m(),i(u,{key:1},[o("div",nt,[f(K,{modelValue:t.value,"onUpdate:modelValue":[a[3]||(a[3]=e=>t.value=e),g]},null,8,["modelValue"])]),o("div",at,[f(Ze,{query:t.value},null,8,["query"])])],64)):l("",!0)]),a[5]||(a[5]=o("footer",{class:"footer"},[o("p",null,[o("a",{href:"https://github.com/kbsonlong/PromQLPrettify",target:"_blank",rel:"noopener"}," GitHub "),y(" | "),o("a",{href:"https://prometheus.io/docs/prometheus/latest/querying/basics/",target:"_blank",rel:"noopener"}," PromQL文档 "),y(" | "),o("a",{href:"https://docs.victoriametrics.com/metricsql/",target:"_blank",rel:"noopener"}," MetricsQL文档 ")])],-1))]))}});function st(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function it(e){return e instanceof Map?e.clear=e.delete=e.set=function(){throw new Error("map is read-only")}:e instanceof Set&&(e.add=e.clear=e.delete=function(){throw new Error("set is read-only")}),Object.freeze(e),Object.getOwnPropertyNames(e).forEach(t=>{const n=e[t],a=typeof n;"object"!==a&&"function"!==a||Object.isFrozen(n)||it(n)}),e}class ot{constructor(e){void 0===e.data&&(e.data={}),this.data=e.data,this.isMatchIgnored=!1}ignoreMatch(){this.isMatchIgnored=!0}}function lt(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")}function ct(e,...t){const n=Object.create(null);for(const a in e)n[a]=e[a];return t.forEach(function(e){for(const t in e)n[t]=e[t]}),n}const ut=e=>!!e.scope;class dt{constructor(e,t){this.buffer="",this.classPrefix=t.classPrefix,e.walk(this)}addText(e){this.buffer+=lt(e)}openNode(e){if(!ut(e))return;const t=((e,{prefix:t})=>{if(e.startsWith("language:"))return e.replace("language:","language-");if(e.includes(".")){const n=e.split(".");return[`${t}${n.shift()}`,...n.map((e,t)=>`${e}${"_".repeat(t+1)}`)].join(" ")}return`${t}${e}`})(e.scope,{prefix:this.classPrefix});this.span(t)}closeNode(e){ut(e)&&(this.buffer+="</span>")}value(){return this.buffer}span(e){this.buffer+=`<span class="${e}">`}}const gt=(e={})=>{const t={children:[]};return Object.assign(t,e),t};class mt{constructor(){this.rootNode=gt(),this.stack=[this.rootNode]}get top(){return this.stack[this.stack.length-1]}get root(){return this.rootNode}add(e){this.top.children.push(e)}openNode(e){const t=gt({scope:e});this.add(t),this.stack.push(t)}closeNode(){if(this.stack.length>1)return this.stack.pop()}closeAllNodes(){for(;this.closeNode(););}toJSON(){return JSON.stringify(this.rootNode,null,4)}walk(e){return this.constructor._walk(e,this.rootNode)}static _walk(e,t){return"string"==typeof t?e.addText(t):t.children&&(e.openNode(t),t.children.forEach(t=>this._walk(e,t)),e.closeNode(t)),e}static _collapse(e){"string"!=typeof e&&e.children&&(e.children.every(e=>"string"==typeof e)?e.children=[e.children.join("")]:e.children.forEach(e=>{mt._collapse(e)}))}}class pt extends mt{constructor(e){super(),this.options=e}addText(e){""!==e&&this.add(e)}startScope(e){this.openNode(e)}endScope(){this.closeNode()}__addSublanguage(e,t){const n=e.root;t&&(n.scope=`language:${t}`),this.add(n)}toHTML(){return new dt(this,this.options).value()}finalize(){return this.closeAllNodes(),!0}}function ht(e){return e?"string"==typeof e?e:e.source:null}function ft(e){return _t("(?=",e,")")}function bt(e){return _t("(?:",e,")*")}function vt(e){return _t("(?:",e,")?")}function _t(...e){return e.map(e=>ht(e)).join("")}function yt(...e){const t=function(e){const t=e[e.length-1];return"object"==typeof t&&t.constructor===Object?(e.splice(e.length-1,1),t):{}}(e);return"("+(t.capture?"":"?:")+e.map(e=>ht(e)).join("|")+")"}function wt(e){return new RegExp(e.toString()+"|").exec("").length-1}const Et=/\[(?:[^\\\]]|\\.)*\]|\(\??|\\([1-9][0-9]*)|\\./;function xt(e,{joinWith:t}){let n=0;return e.map(e=>{n+=1;const t=n;let a=ht(e),r="";for(;a.length>0;){const e=Et.exec(a);if(!e){r+=a;break}r+=a.substring(0,e.index),a=a.substring(e.index+e[0].length),"\\"===e[0][0]&&e[1]?r+="\\"+String(Number(e[1])+t):(r+=e[0],"("===e[0]&&n++)}return r}).map(e=>`(${e})`).join(t)}const kt="[a-zA-Z]\\w*",St="[a-zA-Z_]\\w*",At="\\b\\d+(\\.\\d+)?",Nt="(-?)(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",Mt="\\b(0b[01]+)",Ot={begin:"\\\\[\\s\\S]",relevance:0},Rt={scope:"string",begin:"'",end:"'",illegal:"\\n",contains:[Ot]},Tt={scope:"string",begin:'"',end:'"',illegal:"\\n",contains:[Ot]},Lt=function(e,t,n={}){const a=ct({scope:"comment",begin:e,end:t,contains:[]},n);a.contains.push({scope:"doctag",begin:"[ ]*(?=(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):)",end:/(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):/,excludeBegin:!0,relevance:0});const r=yt("I","a","is","so","us","to","at","if","in","it","on",/[A-Za-z]+['](d|ve|re|ll|t|s|n)/,/[A-Za-z]+[-][a-z]+/,/[A-Za-z][a-z]{2,}/);return a.contains.push({begin:_t(/[ ]+/,"(",r,/[.]?[:]?([.][ ]|[ ])/,"){3}")}),a},jt=Lt("//","$"),It=Lt("/\\*","\\*/"),Ct=Lt("#","$"),Pt={scope:"number",begin:At,relevance:0},Bt={scope:"number",begin:Nt,relevance:0},$t={scope:"number",begin:Mt,relevance:0},Dt={scope:"regexp",begin:/\/(?=[^/\n]*\/)/,end:/\/[gimuy]*/,contains:[Ot,{begin:/\[/,end:/\]/,relevance:0,contains:[Ot]}]},qt={scope:"title",begin:kt,relevance:0},Ut={scope:"title",begin:St,relevance:0},Wt={begin:"\\.\\s*"+St,relevance:0};var Ft=Object.freeze({__proto__:null,APOS_STRING_MODE:Rt,BACKSLASH_ESCAPE:Ot,BINARY_NUMBER_MODE:$t,BINARY_NUMBER_RE:Mt,COMMENT:Lt,C_BLOCK_COMMENT_MODE:It,C_LINE_COMMENT_MODE:jt,C_NUMBER_MODE:Bt,C_NUMBER_RE:Nt,END_SAME_AS_BEGIN:function(e){return Object.assign(e,{"on:begin":(e,t)=>{t.data._beginMatch=e[1]},"on:end":(e,t)=>{t.data._beginMatch!==e[1]&&t.ignoreMatch()}})},HASH_COMMENT_MODE:Ct,IDENT_RE:kt,MATCH_NOTHING_RE:/\b\B/,METHOD_GUARD:Wt,NUMBER_MODE:Pt,NUMBER_RE:At,PHRASAL_WORDS_MODE:{begin:/\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\b/},QUOTE_STRING_MODE:Tt,REGEXP_MODE:Dt,RE_STARTERS_RE:"!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",SHEBANG:(e={})=>{const t=/^#![ ]*\//;return e.binary&&(e.begin=_t(t,/.*\b/,e.binary,/\b.*/)),ct({scope:"meta",begin:t,end:/$/,relevance:0,"on:begin":(e,t)=>{0!==e.index&&t.ignoreMatch()}},e)},TITLE_MODE:qt,UNDERSCORE_IDENT_RE:St,UNDERSCORE_TITLE_MODE:Ut});function Ht(e,t){"."===e.input[e.index-1]&&t.ignoreMatch()}function zt(e,t){void 0!==e.className&&(e.scope=e.className,delete e.className)}function Qt(e,t){t&&e.beginKeywords&&(e.begin="\\b("+e.beginKeywords.split(" ").join("|")+")(?!\\.)(?=\\b|\\s)",e.__beforeBegin=Ht,e.keywords=e.keywords||e.beginKeywords,delete e.beginKeywords,void 0===e.relevance&&(e.relevance=0))}function Vt(e,t){Array.isArray(e.illegal)&&(e.illegal=yt(...e.illegal))}function Zt(e,t){if(e.match){if(e.begin||e.end)throw new Error("begin & end are not supported with match");e.begin=e.match,delete e.match}}function Kt(e,t){void 0===e.relevance&&(e.relevance=1)}const Jt=(e,t)=>{if(!e.beforeMatch)return;if(e.starts)throw new Error("beforeMatch cannot be used with starts");const n=Object.assign({},e);Object.keys(e).forEach(t=>{delete e[t]}),e.keywords=n.keywords,e.begin=_t(n.beforeMatch,ft(n.begin)),e.starts={relevance:0,contains:[Object.assign(n,{endsParent:!0})]},e.relevance=0,delete n.beforeMatch},Gt=["of","and","for","in","not","or","if","then","parent","list","value"];function Xt(e,t,n="keyword"){const a=Object.create(null);return"string"==typeof e?r(n,e.split(" ")):Array.isArray(e)?r(n,e):Object.keys(e).forEach(function(n){Object.assign(a,Xt(e[n],t,n))}),a;function r(e,n){t&&(n=n.map(e=>e.toLowerCase())),n.forEach(function(t){const n=t.split("|");a[n[0]]=[e,Yt(n[0],n[1])]})}}function Yt(e,t){return t?Number(t):function(e){return Gt.includes(e.toLowerCase())}(e)?0:1}const en={},tn=e=>{console.error(e)},nn=(e,...t)=>{console.log(`WARN: ${e}`,...t)},an=(e,t)=>{en[`${e}/${t}`]||(console.log(`Deprecated as of ${e}. ${t}`),en[`${e}/${t}`]=!0)},rn=new Error;function sn(e,t,{key:n}){let a=0;const r=e[n],s={},i={};for(let o=1;o<=t.length;o++)i[o+a]=r[o],s[o+a]=!0,a+=wt(t[o-1]);e[n]=i,e[n]._emit=s,e[n]._multi=!0}function on(e){!function(e){e.scope&&"object"==typeof e.scope&&null!==e.scope&&(e.beginScope=e.scope,delete e.scope)}(e),"string"==typeof e.beginScope&&(e.beginScope={_wrap:e.beginScope}),"string"==typeof e.endScope&&(e.endScope={_wrap:e.endScope}),function(e){if(Array.isArray(e.begin)){if(e.skip||e.excludeBegin||e.returnBegin)throw tn("skip, excludeBegin, returnBegin not compatible with beginScope: {}"),rn;if("object"!=typeof e.beginScope||null===e.beginScope)throw tn("beginScope must be object"),rn;sn(e,e.begin,{key:"beginScope"}),e.begin=xt(e.begin,{joinWith:""})}}(e),function(e){if(Array.isArray(e.end)){if(e.skip||e.excludeEnd||e.returnEnd)throw tn("skip, excludeEnd, returnEnd not compatible with endScope: {}"),rn;if("object"!=typeof e.endScope||null===e.endScope)throw tn("endScope must be object"),rn;sn(e,e.end,{key:"endScope"}),e.end=xt(e.end,{joinWith:""})}}(e)}function ln(e){function t(t,n){return new RegExp(ht(t),"m"+(e.case_insensitive?"i":"")+(e.unicodeRegex?"u":"")+(n?"g":""))}class n{constructor(){this.matchIndexes={},this.regexes=[],this.matchAt=1,this.position=0}addRule(e,t){t.position=this.position++,this.matchIndexes[this.matchAt]=t,this.regexes.push([t,e]),this.matchAt+=wt(e)+1}compile(){0===this.regexes.length&&(this.exec=()=>null);const e=this.regexes.map(e=>e[1]);this.matcherRe=t(xt(e,{joinWith:"|"}),!0),this.lastIndex=0}exec(e){this.matcherRe.lastIndex=this.lastIndex;const t=this.matcherRe.exec(e);if(!t)return null;const n=t.findIndex((e,t)=>t>0&&void 0!==e),a=this.matchIndexes[n];return t.splice(0,n),Object.assign(t,a)}}class a{constructor(){this.rules=[],this.multiRegexes=[],this.count=0,this.lastIndex=0,this.regexIndex=0}getMatcher(e){if(this.multiRegexes[e])return this.multiRegexes[e];const t=new n;return this.rules.slice(e).forEach(([e,n])=>t.addRule(e,n)),t.compile(),this.multiRegexes[e]=t,t}resumingScanAtSamePosition(){return 0!==this.regexIndex}considerAll(){this.regexIndex=0}addRule(e,t){this.rules.push([e,t]),"begin"===t.type&&this.count++}exec(e){const t=this.getMatcher(this.regexIndex);t.lastIndex=this.lastIndex;let n=t.exec(e);if(this.resumingScanAtSamePosition())if(n&&n.index===this.lastIndex);else{const t=this.getMatcher(0);t.lastIndex=this.lastIndex+1,n=t.exec(e)}return n&&(this.regexIndex+=n.position+1,this.regexIndex===this.count&&this.considerAll()),n}}if(e.compilerExtensions||(e.compilerExtensions=[]),e.contains&&e.contains.includes("self"))throw new Error("ERR: contains `self` is not supported at the top-level of a language.  See documentation.");return e.classNameAliases=ct(e.classNameAliases||{}),function n(r,s){const i=r;if(r.isCompiled)return i;[zt,Zt,on,Jt].forEach(e=>e(r,s)),e.compilerExtensions.forEach(e=>e(r,s)),r.__beforeBegin=null,[Qt,Vt,Kt].forEach(e=>e(r,s)),r.isCompiled=!0;let o=null;return"object"==typeof r.keywords&&r.keywords.$pattern&&(r.keywords=Object.assign({},r.keywords),o=r.keywords.$pattern,delete r.keywords.$pattern),o=o||/\w+/,r.keywords&&(r.keywords=Xt(r.keywords,e.case_insensitive)),i.keywordPatternRe=t(o,!0),s&&(r.begin||(r.begin=/\B|\b/),i.beginRe=t(i.begin),r.end||r.endsWithParent||(r.end=/\B|\b/),r.end&&(i.endRe=t(i.end)),i.terminatorEnd=ht(i.end)||"",r.endsWithParent&&s.terminatorEnd&&(i.terminatorEnd+=(r.end?"|":"")+s.terminatorEnd)),r.illegal&&(i.illegalRe=t(r.illegal)),r.contains||(r.contains=[]),r.contains=[].concat(...r.contains.map(function(e){return function(e){e.variants&&!e.cachedVariants&&(e.cachedVariants=e.variants.map(function(t){return ct(e,{variants:null},t)}));if(e.cachedVariants)return e.cachedVariants;if(cn(e))return ct(e,{starts:e.starts?ct(e.starts):null});if(Object.isFrozen(e))return ct(e);return e}("self"===e?r:e)})),r.contains.forEach(function(e){n(e,i)}),r.starts&&n(r.starts,s),i.matcher=function(e){const t=new a;return e.contains.forEach(e=>t.addRule(e.begin,{rule:e,type:"begin"})),e.terminatorEnd&&t.addRule(e.terminatorEnd,{type:"end"}),e.illegal&&t.addRule(e.illegal,{type:"illegal"}),t}(i),i}(e)}function cn(e){return!!e&&(e.endsWithParent||cn(e.starts))}class un extends Error{constructor(e,t){super(e),this.name="HTMLInjectionError",this.html=t}}const dn=lt,gn=ct,mn=Symbol("nomatch"),pn=function(e){const t=Object.create(null),n=Object.create(null),a=[];let r=!0;const s="Could not find the language '{}', did you forget to load/include a language module?",i={disableAutodetect:!0,name:"Plain text",contains:[]};let o={ignoreUnescapedHTML:!1,throwUnescapedHTML:!1,noHighlightRe:/^(no-?highlight)$/i,languageDetectRe:/\blang(?:uage)?-([\w-]+)\b/i,classPrefix:"hljs-",cssSelector:"pre code",languages:null,__emitter:pt};function l(e){return o.noHighlightRe.test(e)}function c(e,t,n){let a="",r="";"object"==typeof t?(a=e,n=t.ignoreIllegals,r=t.language):(an("10.7.0","highlight(lang, code, ...args) has been deprecated."),an("10.7.0","Please use highlight(code, options) instead.\nhttps://github.com/highlightjs/highlight.js/issues/2277"),r=e,a=t),void 0===n&&(n=!0);const s={code:a,language:r};v("before:highlight",s);const i=s.result?s.result:u(s.language,s.code,n);return i.code=s.code,v("after:highlight",i),i}function u(e,n,a,i){const l=Object.create(null);function c(e,t){return e.keywords[t]}function g(){if(!A.keywords)return void M.addText(O);let e=0;A.keywordPatternRe.lastIndex=0;let t=A.keywordPatternRe.exec(O),n="";for(;t;){n+=O.substring(e,t.index);const a=x.case_insensitive?t[0].toLowerCase():t[0],r=c(A,a);if(r){const[e,s]=r;if(M.addText(n),n="",l[a]=(l[a]||0)+1,l[a]<=7&&(R+=s),e.startsWith("_"))n+=t[0];else{const n=x.classNameAliases[e]||e;p(t[0],n)}}else n+=t[0];e=A.keywordPatternRe.lastIndex,t=A.keywordPatternRe.exec(O)}n+=O.substring(e),M.addText(n)}function m(){null!=A.subLanguage?function(){if(""===O)return;let e=null;if("string"==typeof A.subLanguage){if(!t[A.subLanguage])return void M.addText(O);e=u(A.subLanguage,O,!0,N[A.subLanguage]),N[A.subLanguage]=e._top}else e=d(O,A.subLanguage.length?A.subLanguage:null);A.relevance>0&&(R+=e.relevance),M.__addSublanguage(e._emitter,e.language)}():g(),O=""}function p(e,t){""!==e&&(M.startScope(t),M.addText(e),M.endScope())}function f(e,t){let n=1;const a=t.length-1;for(;n<=a;){if(!e._emit[n]){n++;continue}const a=x.classNameAliases[e[n]]||e[n],r=t[n];a?p(r,a):(O=r,g(),O=""),n++}}function b(e,t){return e.scope&&"string"==typeof e.scope&&M.openNode(x.classNameAliases[e.scope]||e.scope),e.beginScope&&(e.beginScope._wrap?(p(O,x.classNameAliases[e.beginScope._wrap]||e.beginScope._wrap),O=""):e.beginScope._multi&&(f(e.beginScope,t),O="")),A=Object.create(e,{parent:{value:A}}),A}function v(e,t,n){let a=function(e,t){const n=e&&e.exec(t);return n&&0===n.index}(e.endRe,n);if(a){if(e["on:end"]){const n=new ot(e);e["on:end"](t,n),n.isMatchIgnored&&(a=!1)}if(a){for(;e.endsParent&&e.parent;)e=e.parent;return e}}if(e.endsWithParent)return v(e.parent,t,n)}function _(e){return 0===A.matcher.regexIndex?(O+=e[0],1):(j=!0,0)}function y(e){const t=e[0],a=n.substring(e.index),r=v(A,e,a);if(!r)return mn;const s=A;A.endScope&&A.endScope._wrap?(m(),p(t,A.endScope._wrap)):A.endScope&&A.endScope._multi?(m(),f(A.endScope,e)):s.skip?O+=t:(s.returnEnd||s.excludeEnd||(O+=t),m(),s.excludeEnd&&(O=t));do{A.scope&&M.closeNode(),A.skip||A.subLanguage||(R+=A.relevance),A=A.parent}while(A!==r.parent);return r.starts&&b(r.starts,e),s.returnEnd?0:t.length}let w={};function E(t,s){const i=s&&s[0];if(O+=t,null==i)return m(),0;if("begin"===w.type&&"end"===s.type&&w.index===s.index&&""===i){if(O+=n.slice(s.index,s.index+1),!r){const t=new Error(`0 width match regex (${e})`);throw t.languageName=e,t.badRule=w.rule,t}return 1}if(w=s,"begin"===s.type)return function(e){const t=e[0],n=e.rule,a=new ot(n),r=[n.__beforeBegin,n["on:begin"]];for(const s of r)if(s&&(s(e,a),a.isMatchIgnored))return _(t);return n.skip?O+=t:(n.excludeBegin&&(O+=t),m(),n.returnBegin||n.excludeBegin||(O=t)),b(n,e),n.returnBegin?0:t.length}(s);if("illegal"===s.type&&!a){const e=new Error('Illegal lexeme "'+i+'" for mode "'+(A.scope||"<unnamed>")+'"');throw e.mode=A,e}if("end"===s.type){const e=y(s);if(e!==mn)return e}if("illegal"===s.type&&""===i)return O+="\n",1;if(L>1e5&&L>3*s.index){throw new Error("potential infinite loop, way more iterations than matches")}return O+=i,i.length}const x=h(e);if(!x)throw tn(s.replace("{}",e)),new Error('Unknown language: "'+e+'"');const k=ln(x);let S="",A=i||k;const N={},M=new o.__emitter(o);!function(){const e=[];for(let t=A;t!==x;t=t.parent)t.scope&&e.unshift(t.scope);e.forEach(e=>M.openNode(e))}();let O="",R=0,T=0,L=0,j=!1;try{if(x.__emitTokens)x.__emitTokens(n,M);else{for(A.matcher.considerAll();;){L++,j?j=!1:A.matcher.considerAll(),A.matcher.lastIndex=T;const e=A.matcher.exec(n);if(!e)break;const t=E(n.substring(T,e.index),e);T=e.index+t}E(n.substring(T))}return M.finalize(),S=M.toHTML(),{language:e,value:S,relevance:R,illegal:!1,_emitter:M,_top:A}}catch(I){if(I.message&&I.message.includes("Illegal"))return{language:e,value:dn(n),illegal:!0,relevance:0,_illegalBy:{message:I.message,index:T,context:n.slice(T-100,T+100),mode:I.mode,resultSoFar:S},_emitter:M};if(r)return{language:e,value:dn(n),illegal:!1,relevance:0,errorRaised:I,_emitter:M,_top:A};throw I}}function d(e,n){n=n||o.languages||Object.keys(t);const a=function(e){const t={value:dn(e),illegal:!1,relevance:0,_top:i,_emitter:new o.__emitter(o)};return t._emitter.addText(e),t}(e),r=n.filter(h).filter(b).map(t=>u(t,e,!1));r.unshift(a);const s=r.sort((e,t)=>{if(e.relevance!==t.relevance)return t.relevance-e.relevance;if(e.language&&t.language){if(h(e.language).supersetOf===t.language)return 1;if(h(t.language).supersetOf===e.language)return-1}return 0}),[l,c]=s,d=l;return d.secondBest=c,d}function g(e){let t=null;const a=function(e){let t=e.className+" ";t+=e.parentNode?e.parentNode.className:"";const n=o.languageDetectRe.exec(t);if(n){const t=h(n[1]);return t||(nn(s.replace("{}",n[1])),nn("Falling back to no-highlight mode for this block.",e)),t?n[1]:"no-highlight"}return t.split(/\s+/).find(e=>l(e)||h(e))}(e);if(l(a))return;if(v("before:highlightElement",{el:e,language:a}),e.dataset.highlighted)return void console.log("Element previously highlighted. To highlight again, first unset `dataset.highlighted`.",e);if(e.children.length>0&&(o.ignoreUnescapedHTML||(console.warn("One of your code blocks includes unescaped HTML. This is a potentially serious security risk."),console.warn("https://github.com/highlightjs/highlight.js/wiki/security"),console.warn("The element with unescaped HTML:"),console.warn(e)),o.throwUnescapedHTML)){throw new un("One of your code blocks includes unescaped HTML.",e.innerHTML)}t=e;const r=t.textContent,i=a?c(r,{language:a,ignoreIllegals:!0}):d(r);e.innerHTML=i.value,e.dataset.highlighted="yes",function(e,t,a){const r=t&&n[t]||a;e.classList.add("hljs"),e.classList.add(`language-${r}`)}(e,a,i.language),e.result={language:i.language,re:i.relevance,relevance:i.relevance},i.secondBest&&(e.secondBest={language:i.secondBest.language,relevance:i.secondBest.relevance}),v("after:highlightElement",{el:e,result:i,text:r})}let m=!1;function p(){if("loading"===document.readyState)return m||window.addEventListener("DOMContentLoaded",function(){p()},!1),void(m=!0);document.querySelectorAll(o.cssSelector).forEach(g)}function h(e){return e=(e||"").toLowerCase(),t[e]||t[n[e]]}function f(e,{languageName:t}){"string"==typeof e&&(e=[e]),e.forEach(e=>{n[e.toLowerCase()]=t})}function b(e){const t=h(e);return t&&!t.disableAutodetect}function v(e,t){const n=e;a.forEach(function(e){e[n]&&e[n](t)})}Object.assign(e,{highlight:c,highlightAuto:d,highlightAll:p,highlightElement:g,highlightBlock:function(e){return an("10.7.0","highlightBlock will be removed entirely in v12.0"),an("10.7.0","Please use highlightElement now."),g(e)},configure:function(e){o=gn(o,e)},initHighlighting:()=>{p(),an("10.6.0","initHighlighting() deprecated.  Use highlightAll() now.")},initHighlightingOnLoad:function(){p(),an("10.6.0","initHighlightingOnLoad() deprecated.  Use highlightAll() now.")},registerLanguage:function(n,a){let s=null;try{s=a(e)}catch(o){if(tn("Language definition for '{}' could not be registered.".replace("{}",n)),!r)throw o;tn(o),s=i}s.name||(s.name=n),t[n]=s,s.rawDefinition=a.bind(null,e),s.aliases&&f(s.aliases,{languageName:n})},unregisterLanguage:function(e){delete t[e];for(const t of Object.keys(n))n[t]===e&&delete n[t]},listLanguages:function(){return Object.keys(t)},getLanguage:h,registerAliases:f,autoDetection:b,inherit:gn,addPlugin:function(e){!function(e){e["before:highlightBlock"]&&!e["before:highlightElement"]&&(e["before:highlightElement"]=t=>{e["before:highlightBlock"](Object.assign({block:t.el},t))}),e["after:highlightBlock"]&&!e["after:highlightElement"]&&(e["after:highlightElement"]=t=>{e["after:highlightBlock"](Object.assign({block:t.el},t))})}(e),a.push(e)},removePlugin:function(e){const t=a.indexOf(e);-1!==t&&a.splice(t,1)}}),e.debugMode=function(){r=!1},e.safeMode=function(){r=!0},e.versionString="11.11.1",e.regex={concat:_t,lookahead:ft,either:yt,optional:vt,anyNumberOfTimes:bt};for(const _ in Ft)"object"==typeof Ft[_]&&it(Ft[_]);return Object.assign(e,Ft),e},hn=pn({});hn.newInstance=()=>pn({});var fn=hn;hn.HighlightJS=hn,hn.default=hn;const bn=st(fn);var vn=n({props:{code:{type:String,required:!0},language:{type:String,default:""},autodetect:{type:Boolean,default:!0},ignoreIllegals:{type:Boolean,default:!0}},setup:function(e){var t=a(e.language);x(function(){return e.language},function(e){t.value=e});var n=r(function(){return e.autodetect||!t.value}),s=r(function(){return!n.value&&!bn.getLanguage(t.value)});return{className:r(function(){return s.value?"":"hljs "+t.value}),highlightedCode:r(function(){var a;if(s.value)return console.warn('The language "'+t.value+'" you specified could not be found.'),e.code.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;");if(n.value){var r=bn.highlightAuto(e.code);return t.value=null!==(a=r.language)&&void 0!==a?a:"",r.value}return(r=bn.highlight(e.code,{language:t.value,ignoreIllegals:e.ignoreIllegals})).value})}},render:function(){return k("pre",{},[k("code",{class:this.className,innerHTML:this.highlightedCode})])}}),_n={install:function(e){e.component("highlightjs",vn)},component:vn};const yn="[A-Za-z$_][0-9A-Za-z$_]*",wn=["as","in","of","if","for","while","finally","var","new","function","do","return","void","else","break","catch","instanceof","with","throw","case","default","try","switch","continue","typeof","delete","let","yield","const","class","debugger","async","await","static","import","from","export","extends","using"],En=["true","false","null","undefined","NaN","Infinity"],xn=["Object","Function","Boolean","Symbol","Math","Date","Number","BigInt","String","RegExp","Array","Float32Array","Float64Array","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Int32Array","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array","Set","Map","WeakSet","WeakMap","ArrayBuffer","SharedArrayBuffer","Atomics","DataView","JSON","Promise","Generator","GeneratorFunction","AsyncFunction","Reflect","Proxy","Intl","WebAssembly"],kn=["Error","EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError"],Sn=["setInterval","setTimeout","clearInterval","clearTimeout","require","exports","eval","isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","unescape"],An=["arguments","this","super","console","window","document","localStorage","sessionStorage","module","global"],Nn=[].concat(Sn,xn,kn);bn.registerLanguage("javascript",function(e){const t=e.regex,n=yn,a="<>",r="</>",s={begin:/<[A-Za-z0-9\\._:-]+/,end:/\/[A-Za-z0-9\\._:-]+>|\/>/,isTrulyOpeningTag:(e,t)=>{const n=e[0].length+e.index,a=e.input[n];if("<"===a||","===a)return void t.ignoreMatch();let r;">"===a&&(((e,{after:t})=>{const n="</"+e[0].slice(1);return-1!==e.input.indexOf(n,t)})(e,{after:n})||t.ignoreMatch());const s=e.input.substring(n);((r=s.match(/^\s*=/))||(r=s.match(/^\s+extends\s+/))&&0===r.index)&&t.ignoreMatch()}},i={$pattern:yn,keyword:wn,literal:En,built_in:Nn,"variable.language":An},o="[0-9](_?[0-9])*",l=`\\.(${o})`,c="0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*",u={className:"number",variants:[{begin:`(\\b(${c})((${l})|\\.)?|(${l}))[eE][+-]?(${o})\\b`},{begin:`\\b(${c})\\b((${l})\\b|\\.)?|(${l})\\b`},{begin:"\\b(0|[1-9](_?[0-9])*)n\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*n?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*n?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*n?\\b"},{begin:"\\b0[0-7]+n?\\b"}],relevance:0},d={className:"subst",begin:"\\$\\{",end:"\\}",keywords:i,contains:[]},g={begin:".?html`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,d],subLanguage:"xml"}},m={begin:".?css`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,d],subLanguage:"css"}},p={begin:".?gql`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,d],subLanguage:"graphql"}},h={className:"string",begin:"`",end:"`",contains:[e.BACKSLASH_ESCAPE,d]},f={className:"comment",variants:[e.COMMENT(/\/\*\*(?!\/)/,"\\*/",{relevance:0,contains:[{begin:"(?=@[A-Za-z]+)",relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"},{className:"type",begin:"\\{",end:"\\}",excludeEnd:!0,excludeBegin:!0,relevance:0},{className:"variable",begin:n+"(?=\\s*(-)|$)",endsParent:!0,relevance:0},{begin:/(?=[^\n])\s/,relevance:0}]}]}),e.C_BLOCK_COMMENT_MODE,e.C_LINE_COMMENT_MODE]},b=[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,g,m,p,h,{match:/\$\d+/},u];d.contains=b.concat({begin:/\{/,end:/\}/,keywords:i,contains:["self"].concat(b)});const v=[].concat(f,d.contains),_=v.concat([{begin:/(\s*)\(/,end:/\)/,keywords:i,contains:["self"].concat(v)}]),y={className:"params",begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:i,contains:_},w={variants:[{match:[/class/,/\s+/,n,/\s+/,/extends/,/\s+/,t.concat(n,"(",t.concat(/\./,n),")*")],scope:{1:"keyword",3:"title.class",5:"keyword",7:"title.class.inherited"}},{match:[/class/,/\s+/,n],scope:{1:"keyword",3:"title.class"}}]},E={relevance:0,match:t.either(/\bJSON/,/\b[A-Z][a-z]+([A-Z][a-z]*|\d)*/,/\b[A-Z]{2,}([A-Z][a-z]+|\d)+([A-Z][a-z]*)*/,/\b[A-Z]{2,}[a-z]+([A-Z][a-z]+|\d)*([A-Z][a-z]*)*/),className:"title.class",keywords:{_:[...xn,...kn]}},x={variants:[{match:[/function/,/\s+/,n,/(?=\s*\()/]},{match:[/function/,/\s*(?=\()/]}],className:{1:"keyword",3:"title.function"},label:"func.def",contains:[y],illegal:/%/},k={match:t.concat(/\b/,(S=[...Sn,"super","import"].map(e=>`${e}\\s*\\(`),t.concat("(?!",S.join("|"),")")),n,t.lookahead(/\s*\(/)),className:"title.function",relevance:0};var S;const A={begin:t.concat(/\./,t.lookahead(t.concat(n,/(?![0-9A-Za-z$_(])/))),end:n,excludeBegin:!0,keywords:"prototype",className:"property",relevance:0},N={match:[/get|set/,/\s+/,n,/(?=\()/],className:{1:"keyword",3:"title.function"},contains:[{begin:/\(\)/},y]},M="(\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)|"+e.UNDERSCORE_IDENT_RE+")\\s*=>",O={match:[/const|var|let/,/\s+/,n,/\s*/,/=\s*/,/(async\s*)?/,t.lookahead(M)],keywords:"async",className:{1:"keyword",3:"title.function"},contains:[y]};return{name:"JavaScript",aliases:["js","jsx","mjs","cjs"],keywords:i,exports:{PARAMS_CONTAINS:_,CLASS_REFERENCE:E},illegal:/#(?![$_A-z])/,contains:[e.SHEBANG({label:"shebang",binary:"node",relevance:5}),{label:"use_strict",className:"meta",relevance:10,begin:/^\s*['"]use (strict|asm)['"]/},e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,g,m,p,h,f,{match:/\$\d+/},u,E,{scope:"attr",match:n+t.lookahead(":"),relevance:0},O,{begin:"("+e.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",keywords:"return throw case",relevance:0,contains:[f,e.REGEXP_MODE,{className:"function",begin:M,returnBegin:!0,end:"\\s*=>",contains:[{className:"params",variants:[{begin:e.UNDERSCORE_IDENT_RE,relevance:0},{className:null,begin:/\(\s*\)/,skip:!0},{begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:i,contains:_}]}]},{begin:/,/,relevance:0},{match:/\s+/,relevance:0},{variants:[{begin:a,end:r},{match:/<[A-Za-z0-9\\._:-]+\s*\/>/},{begin:s.begin,"on:begin":s.isTrulyOpeningTag,end:s.end}],subLanguage:"xml",contains:[{begin:s.begin,end:s.end,skip:!0,contains:["self"]}]}]},x,{beginKeywords:"while if switch catch for"},{begin:"\\b(?!function)"+e.UNDERSCORE_IDENT_RE+"\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)\\s*\\{",returnBegin:!0,label:"func.def",contains:[y,e.inherit(e.TITLE_MODE,{begin:n,className:"title.function"})]},{match:/\.\.\./,relevance:0},A,{match:"\\$"+n,relevance:0},{match:[/\bconstructor(?=\s*\()/],className:{1:"title.function"},contains:[y]},k,{relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"},w,N,{match:/\$[(.]/}]}}),bn.registerLanguage("json",function(e){const t=["true","false","null"],n={scope:"literal",beginKeywords:t.join(" ")};return{name:"JSON",aliases:["jsonc"],keywords:{literal:t},contains:[{className:"attr",begin:/"(\\.|[^\\"\r\n])*"(?=\s*:)/,relevance:1.01},{match:/[{}[\],:]/,className:"punctuation",relevance:0},e.QUOTE_STRING_MODE,n,e.C_NUMBER_MODE,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE],illegal:"\\S"}}),bn.registerLanguage("yaml",function(e){const t="true false yes no null",n="[\\w#;/?:@&=+$,.~*'()[\\]]+",a={className:"string",relevance:0,variants:[{begin:/"/,end:/"/},{begin:/\S+/}],contains:[e.BACKSLASH_ESCAPE,{className:"template-variable",variants:[{begin:/\{\{/,end:/\}\}/},{begin:/%\{/,end:/\}/}]}]},r=e.inherit(a,{variants:[{begin:/'/,end:/'/,contains:[{begin:/''/,relevance:0}]},{begin:/"/,end:/"/},{begin:/[^\s,{}[\]]+/}]}),s={className:"number",begin:"\\b[0-9]{4}(-[0-9][0-9]){0,2}([Tt \\t][0-9][0-9]?(:[0-9][0-9]){2})?(\\.[0-9]*)?([ \\t])*(Z|[-+][0-9][0-9]?(:[0-9][0-9])?)?\\b"},i={end:",",endsWithParent:!0,excludeEnd:!0,keywords:t,relevance:0},o={begin:/\{/,end:/\}/,contains:[i],illegal:"\\n",relevance:0},l={begin:"\\[",end:"\\]",contains:[i],illegal:"\\n",relevance:0},c=[{className:"attr",variants:[{begin:/[\w*@][\w*@ :()\./-]*:(?=[ \t]|$)/},{begin:/"[\w*@][\w*@ :()\./-]*":(?=[ \t]|$)/},{begin:/'[\w*@][\w*@ :()\./-]*':(?=[ \t]|$)/}]},{className:"meta",begin:"^---\\s*$",relevance:10},{className:"string",begin:"[\\|>]([1-9]?[+-])?[ ]*\\n( +)[^ ][^\\n]*\\n(\\2[^\\n]+\\n?)*"},{begin:"<%[%=-]?",end:"[%-]?%>",subLanguage:"ruby",excludeBegin:!0,excludeEnd:!0,relevance:0},{className:"type",begin:"!\\w+!"+n},{className:"type",begin:"!<"+n+">"},{className:"type",begin:"!"+n},{className:"type",begin:"!!"+n},{className:"meta",begin:"&"+e.UNDERSCORE_IDENT_RE+"$"},{className:"meta",begin:"\\*"+e.UNDERSCORE_IDENT_RE+"$"},{className:"bullet",begin:"-(?=[ ]|$)",relevance:0},e.HASH_COMMENT_MODE,{beginKeywords:t,keywords:{literal:t}},s,{className:"number",begin:e.C_NUMBER_RE+"\\b",relevance:0},o,l,{className:"string",relevance:0,begin:/'/,end:/'/,contains:[{match:/''/,scope:"char.escape",relevance:0}]},a],u=[...c];return u.pop(),u.push(r),i.contains=u,{name:"YAML",case_insensitive:!0,aliases:["yml"],contains:c}}),bn.registerLanguage("sql",function(e){const t=e.regex,n=e.COMMENT("--","$"),a=["abs","acos","array_agg","asin","atan","avg","cast","ceil","ceiling","coalesce","corr","cos","cosh","count","covar_pop","covar_samp","cume_dist","dense_rank","deref","element","exp","extract","first_value","floor","json_array","json_arrayagg","json_exists","json_object","json_objectagg","json_query","json_table","json_table_primitive","json_value","lag","last_value","lead","listagg","ln","log","log10","lower","max","min","mod","nth_value","ntile","nullif","percent_rank","percentile_cont","percentile_disc","position","position_regex","power","rank","regr_avgx","regr_avgy","regr_count","regr_intercept","regr_r2","regr_slope","regr_sxx","regr_sxy","regr_syy","row_number","sin","sinh","sqrt","stddev_pop","stddev_samp","substring","substring_regex","sum","tan","tanh","translate","translate_regex","treat","trim","trim_array","unnest","upper","value_of","var_pop","var_samp","width_bucket"],r=a,s=["abs","acos","all","allocate","alter","and","any","are","array","array_agg","array_max_cardinality","as","asensitive","asin","asymmetric","at","atan","atomic","authorization","avg","begin","begin_frame","begin_partition","between","bigint","binary","blob","boolean","both","by","call","called","cardinality","cascaded","case","cast","ceil","ceiling","char","char_length","character","character_length","check","classifier","clob","close","coalesce","collate","collect","column","commit","condition","connect","constraint","contains","convert","copy","corr","corresponding","cos","cosh","count","covar_pop","covar_samp","create","cross","cube","cume_dist","current","current_catalog","current_date","current_default_transform_group","current_path","current_role","current_row","current_schema","current_time","current_timestamp","current_path","current_role","current_transform_group_for_type","current_user","cursor","cycle","date","day","deallocate","dec","decimal","decfloat","declare","default","define","delete","dense_rank","deref","describe","deterministic","disconnect","distinct","double","drop","dynamic","each","element","else","empty","end","end_frame","end_partition","end-exec","equals","escape","every","except","exec","execute","exists","exp","external","extract","false","fetch","filter","first_value","float","floor","for","foreign","frame_row","free","from","full","function","fusion","get","global","grant","group","grouping","groups","having","hold","hour","identity","in","indicator","initial","inner","inout","insensitive","insert","int","integer","intersect","intersection","interval","into","is","join","json_array","json_arrayagg","json_exists","json_object","json_objectagg","json_query","json_table","json_table_primitive","json_value","lag","language","large","last_value","lateral","lead","leading","left","like","like_regex","listagg","ln","local","localtime","localtimestamp","log","log10","lower","match","match_number","match_recognize","matches","max","member","merge","method","min","minute","mod","modifies","module","month","multiset","national","natural","nchar","nclob","new","no","none","normalize","not","nth_value","ntile","null","nullif","numeric","octet_length","occurrences_regex","of","offset","old","omit","on","one","only","open","or","order","out","outer","over","overlaps","overlay","parameter","partition","pattern","per","percent","percent_rank","percentile_cont","percentile_disc","period","portion","position","position_regex","power","precedes","precision","prepare","primary","procedure","ptf","range","rank","reads","real","recursive","ref","references","referencing","regr_avgx","regr_avgy","regr_count","regr_intercept","regr_r2","regr_slope","regr_sxx","regr_sxy","regr_syy","release","result","return","returns","revoke","right","rollback","rollup","row","row_number","rows","running","savepoint","scope","scroll","search","second","seek","select","sensitive","session_user","set","show","similar","sin","sinh","skip","smallint","some","specific","specifictype","sql","sqlexception","sqlstate","sqlwarning","sqrt","start","static","stddev_pop","stddev_samp","submultiset","subset","substring","substring_regex","succeeds","sum","symmetric","system","system_time","system_user","table","tablesample","tan","tanh","then","time","timestamp","timezone_hour","timezone_minute","to","trailing","translate","translate_regex","translation","treat","trigger","trim","trim_array","true","truncate","uescape","union","unique","unknown","unnest","update","upper","user","using","value","values","value_of","var_pop","var_samp","varbinary","varchar","varying","versioning","when","whenever","where","width_bucket","window","with","within","without","year","add","asc","collation","desc","final","first","last","view"].filter(e=>!a.includes(e)),i={match:t.concat(/\b/,t.either(...r),/\s*\(/),relevance:0,keywords:{built_in:r}};function o(e){return t.concat(/\b/,t.either(...e.map(e=>e.replace(/\s+/,"\\s+"))),/\b/)}const l={scope:"keyword",match:o(["create table","insert into","primary key","foreign key","not null","alter table","add constraint","grouping sets","on overflow","character set","respect nulls","ignore nulls","nulls first","nulls last","depth first","breadth first"]),relevance:0};return{name:"SQL",case_insensitive:!0,illegal:/[{}]|<\//,keywords:{$pattern:/\b[\w\.]+/,keyword:function(e,{exceptions:t,when:n}={}){const a=n;return t=t||[],e.map(e=>e.match(/\|\d+$/)||t.includes(e)?e:a(e)?`${e}|0`:e)}(s,{when:e=>e.length<3}),literal:["true","false","unknown"],type:["bigint","binary","blob","boolean","char","character","clob","date","dec","decfloat","decimal","float","int","integer","interval","nchar","nclob","national","numeric","real","row","smallint","time","timestamp","varchar","varying","varbinary"],built_in:["current_catalog","current_date","current_default_transform_group","current_path","current_role","current_schema","current_transform_group_for_type","current_user","session_user","system_time","system_user","current_time","localtime","current_timestamp","localtimestamp"]},contains:[{scope:"type",match:o(["double precision","large object","with timezone","without timezone"])},l,i,{scope:"variable",match:/@[a-z0-9][a-z0-9_]*/},{scope:"string",variants:[{begin:/'/,end:/'/,contains:[{match:/''/}]}]},{begin:/"/,end:/"/,contains:[{match:/""/}]},e.C_NUMBER_MODE,e.C_BLOCK_COMMENT_MODE,n,{scope:"operator",match:/[-+*/=%^~]|&&?|\|\|?|!=?|<(?:=>?|<|>)?|>[>=]?/,relevance:0}]}}),bn.registerLanguage("promql",function(e){const t=["abs","absent","absent_over_time","ceil","changes","clamp_max","clamp_min","delta","deriv","exp","floor","histogram_quantile","holt_winters","idelta","increase","irate","label_join","label_replace","ln","log10","log2","predict_linear","rate","resets","round","scalar","sort","sort_desc","sqrt","time","timestamp","vector","year","month","day_of_month","day_of_week","hour","minute","days_in_month"],n=["sum","min","max","avg","group","stddev","stdvar","count","count_values","bottomk","topk","quantile","count_over_time","avg_over_time","max_over_time","min_over_time","stddev_over_time","sum_over_time","quantile_over_time"];return{name:"promql",case_insensitive:!1,keywords:{keyword:["and","or","unless","by","without","on","ignoring","group_left","group_right","offset","bool"],built_in:[...t,...n]},contains:[e.COMMENT("#","$"),{className:"string",variants:[{begin:'"',end:'"',contains:[e.BACKSLASH_ESCAPE]},{begin:"'",end:"'",contains:[e.BACKSLASH_ESCAPE]}]},{className:"number",variants:[{begin:"\\b\\d+(?:\\.\\d+)?(?:[eE][+-]?\\d+)?\\b"},{begin:"\\b0x[0-9a-fA-F]+\\b"}]},{className:"string",begin:"\\[\\s*\\d+[smhdwy]\\s*\\]",relevance:10},{className:"attr",begin:"{",end:"}",contains:[{className:"string",variants:[{begin:'"',end:'"'},{begin:"'",end:"'"}]},{className:"operator",begin:"(=~|!~|!=|=)"}]},{className:"operator",begin:"(==|!=|<=|>=|<|>|\\+|-|\\*|/|%|\\^)"},{className:"variable",begin:"\\b[a-zA-Z_][a-zA-Z0-9_]*(?=\\s*[{\\[]|\\s*$)",relevance:5},{className:"title.function",begin:"\\b("+n.join("|")+")(?=\\s*\\()",relevance:10},{className:"title.function",begin:"\\b("+t.join("|")+")(?=\\s*\\()",relevance:8}]}});const Mn=S(rt);Mn.use(_n),Mn.mount("#app");
